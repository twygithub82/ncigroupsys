<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <app-breadcrumb [title]="pageTitle" [items]="breadcrumsMiddleList"
        [active_item]="langText.SURVEY_FORM"></app-breadcrumb>
    </div>
    <div class="row">
      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
          <div class="header">
            <h2>
              {{translatedLangText.ORDER_DETAILS}}
            </h2>
          </div>
          <div class="body">
            @if (igDS.loading$ | async) {
            <div class="tbl-spinner">
              <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
              </mat-progress-spinner>
            </div>
            }
            @if (!(igDS.loading$ | async)) {
            <mat-card-content>
              <div class="row">
                <div class="col-xl-4 col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.TANK_NO}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">{{in_gate?.tank?.tank_no}}</div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.CUSTOMER}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">
                        {{ccDS.displayName(in_gate?.tank?.storing_order?.customer_company)}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.OWNER}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-xl-4 col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.EIR_NO}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">
                        {{in_gate?.eir_no}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.EIR_DATE}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">
                        {{displayDateTime(in_gate?.eir_dt)}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.LAST_CARGO}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">{{in_gate?.tank?.tariff_cleaning?.cargo}}
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-xl-4 col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.PURPOSE}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">
                        {{displayTankPurpose(in_gate?.tank!)}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.CLEAN_STATUS}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">
                        {{getCleanStatusDescription(in_gate?.tank?.clean_status_cv)}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                      <span>{{translatedLangText.CURRENT_STATUS}}:</span>
                    </div>
                    <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                      <div class="contact-detail-info font-bold">{{in_gate?.tank?.tank_status_cv}}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </mat-card-content>
            }
          </div>
        </div>
      </div>
    </div>
    <form class="ms-0" [formGroup]="surveyForm!" #formDirective="ngForm">
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <div class="card">
            <div class="row">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="header">
                  <h2>
                    {{translatedLangText.SURVEY_INFO}}
                  </h2>
                </div>
                <div class="body">
                  @if (igDS.loading$ | async) {
                  <div class="tbl-spinner">
                    <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
                    </mat-progress-spinner>
                  </div>
                  }
                  @if (!(igDS.loading$ | async)) {
                  <mat-card-content>
                    <div class="row">
                      <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-5">
                        <div class="row">
                          <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5 align-right">
                            <span>{{translatedLangText.DATE_OF_INSPECTION}}:</span>
                          </div>
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5">
                            <div class="contact-detail-info font-bold">{{displayDate(dateOfInspection)}}</div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-5">
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                            <span>{{translatedLangText.OWNER}}:</span>
                          </div>
                          <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                            <div class="contact-detail-info font-bold">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </mat-card-content>
                  }
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="header">
                  <h2>
                    {{translatedLangText.TANK_DETAILS}}
                  </h2>
                </div>
                <div class="body">
                  @if (igDS.loading$ | async) {
                  <div class="tbl-spinner">
                    <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
                    </mat-progress-spinner>
                  </div>
                  }
                  @if (!(igDS.loading$ | async)) {
                  <mat-card-content>
                    <div class="row">
                      <div class="col-xl-5 col-lg-5 col-md-12 col-sm-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.UNIT_TYPE}}</mat-label>
                          <mat-select formControlName="unit_type_guid" required>
                            @for (option of unit_typeList; track option) {
                            <mat-option [value]="option.guid">{{option.unit_type}}</mat-option>
                            }
                          </mat-select>
                          @if (surveyForm?.get('unit_type_guid')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.UNIT_TYPE}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xl-8 col-lg-8 col-md-12 col-sm-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.MANUFACTURER_DOM}}</mat-label>
                          <mat-select formControlName="manufacturer_cv" required>
                            @for (codeValue of manufacturerCvList; track codeValue) {
                            <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                            }
                          </mat-select>
                          @if (surveyForm?.get('manufacturer_cv')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.MANUFACTURER_DOM}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.DATE}}</mat-label>
                          <input matInput formControlName="dom_dt" [matDatepicker]="manufacturer_dom_picker"
                            [max]="maxManuDOMDt" required>
                          <mat-datepicker-toggle matSuffix [for]="manufacturer_dom_picker"></mat-datepicker-toggle>
                          <mat-datepicker #manufacturer_dom_picker [startAt]="maxManuDOMDt"></mat-datepicker>
                          @if (surveyForm?.get('dom_dt')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.DATE}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.CLADDING}}</mat-label>
                          <mat-select formControlName="cladding_cv" required>
                            @for (codeValue of claddingCvList; track codeValue) {
                            <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                            }
                          </mat-select>
                          @if (surveyForm?.get('cladding_cv')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.CLADDING}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.CAPACITY}}</mat-label>
                          <input matInput formControlName="capacity" type="number" required>
                          <h6 class="color-icon p-t-15 p-r-5" matSuffix>L</h6>
                          @if (surveyForm?.get('capacity')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.CAPACITY}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.TARE_WEIGHT}}</mat-label>
                          <input matInput formControlName="tare_weight" type="number" required>
                          <h6 class="color-icon p-t-15 p-r-5" matSuffix>KG</h6>
                          @if (surveyForm?.get('tare_weight')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.TARE_WEIGHT}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.MAX_GROSS_WEIGHT}}</mat-label>
                          <mat-select formControlName="max_weight_cv" required>
                            @for (codeValue of maxGrossWeightCvList; track codeValue) {
                            <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                            }
                          </mat-select>
                          @if (surveyForm?.get('max_weight_cv')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.MAX_GROSS_WEIGHT}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                      <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.TANK_HEIGHT}}</mat-label>
                          <mat-select formControlName="height_cv" required>
                            @for (codeValue of tankHeightCvList; track codeValue) {
                            <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                            }
                          </mat-select>
                          @if (surveyForm?.get('height_cv')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.TANK_HEIGHT}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                      <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.WALKWAY}}</mat-label>
                          <mat-select formControlName="walkway_cv" required>
                            @for (codeValue of walkwayCvList; track codeValue) {
                            <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                            }
                          </mat-select>
                          @if (surveyForm?.get('walkway_cv')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.WALKWAY}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                      <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.COMPARTMENT_TYPE}}</mat-label>
                          <mat-select formControlName="tank_comp_cv" required>
                            @for (codeValue of tankCompTypeCvList; track codeValue) {
                            <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                            }
                          </mat-select>
                          @if (surveyForm?.get('tank_comp_cv')?.hasError('required')) {
                          <mat-error>
                            {{translatedLangText.COMPARTMENT_TYPE}} {{translatedLangText.SO_REQUIRED}}
                          </mat-error>
                          }
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                        <mat-form-field class="example-full-width">
                          <mat-label>{{translatedLangText.OTHER_COMMENTS}}</mat-label>
                          <textarea matInput formControlName="comments"></textarea>
                        </mat-form-field>
                      </div>
                    </div>
                  </mat-card-content>
                  }
                </div>
              </div>
              <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="row">
                  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="header">
                      <h2>
                        {{translatedLangText.PERIODIC_TEST}}
                      </h2>
                    </div>
                    <div class="body">
                      @if (igDS.loading$ | async) {
                      <div class="tbl-spinner">
                        <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
                        </mat-progress-spinner>
                      </div>
                      }
                      @if (!(igDS.loading$ | async)) {
                      <mat-card-content>
                        <div class="row">
                          <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-5">
                            <div class="row">
                              <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                                <span>{{translatedLangText.LAST_TEST}}:</span>
                              </div>
                              <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                                <div class="contact-detail-info font-bold">
                                  {{lastTest}}
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-5">
                            <div class="row">
                              <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                                <span>{{translatedLangText.NEXT_TEST}}:</span>
                              </div>
                              <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                                <div class="contact-detail-info font-bold">
                                  {{nextTest}}
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.TEST_TYPE}}</mat-label>
                              <mat-select formControlName="last_test_cv" required>
                                @for (codeValue of testTypeCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (surveyForm?.get('last_test_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.TEST_TYPE}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.DATE}}</mat-label>
                              <input matInput formControlName="test_dt" [matDatepicker]="test_dt_picker" required>
                              <mat-datepicker-toggle matSuffix [for]="test_dt_picker"></mat-datepicker-toggle>
                              <mat-datepicker #test_dt_picker startView="multi-year"
                                (yearSelected)="chosenYearHandler($event)"
                                (monthSelected)="chosenMonthHandler($event, test_dt_picker)"
                                panelClass="example-month-picker"></mat-datepicker>
                              @if (surveyForm?.get('test_dt')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.DATE}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.CLASS}}</mat-label>
                              <mat-select formControlName="test_class_cv" required>
                                @for (codeValue of testClassCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (surveyForm?.get('test_class_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.CLASS}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                      </mat-card-content>
                      }
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="header">
                      <h2>
                        {{translatedLangText.IN_GATE_DETAILS}}
                      </h2>
                    </div>
                    <div class="body">
                      @if (igDS.loading$ | async) {
                      <div class="tbl-spinner">
                        <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
                        </mat-progress-spinner>
                      </div>
                      }
                      @if (!(igDS.loading$ | async)) {
                      <mat-card-content>
                        <div class="row">
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-5">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.IN_GATE_REMARKS}}</mat-label>
                              <textarea matInput formControlName="in_gate_remarks"></textarea>
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.VEHICLE_NO}}</mat-label>
                              <input matInput formControlName="vehicle_no" required>
                              @if (surveyForm?.get('vehicle_no')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.VEHICLE_NO}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.DRIVER_NAME}}</mat-label>
                              <input matInput formControlName="driver_name" required>
                              @if (surveyForm?.get('driver_name')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.DRIVER_NAME}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 col-xs-12 m-b-5">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.HAULIER}}</mat-label>
                              <input matInput formControlName="haulier" required>
                              @if (surveyForm?.get('haulier')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.HAULIER}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-5">
                            <div class="row">
                              <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                                <span>{{translatedLangText.LAST_UPDATE_BY}}:</span>
                              </div>
                              <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                                <div class="contact-detail-info font-bold">{{in_gate?.update_by}}</div>
                              </div>
                            </div>
                          </div>
                          <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-5">
                            <div class="row">
                              <div class="col-xl-5 col-lg-5 col-md-5 col-sm-5 col-xs-5 m-b-5 align-right">
                                <span>{{translatedLangText.LAST_UPDATE_ON}}:</span>
                              </div>
                              <div class="col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7 m-b-5">
                                <div class="contact-detail-info font-bold">{{displayDateTime(in_gate?.update_dt)}}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </mat-card-content>
                      }
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="header">
                  <h2>
                    {{translatedLangText.FRAME_TYPE}}
                  </h2>
                </div>
                <div class="body">
                  @if (igDS.loading$ | async) {
                  <div class="tbl-spinner">
                    <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
                    </mat-progress-spinner>
                  </div>
                  }
                  @if (!(igDS.loading$ | async)) {
                  <div class="row">
                    <div class="col-xl-4 col-lg-6 col-md-12 col-sm-12 col-xs-12 mb-3 align-center">
                      <div>
                        <span
                          (click)="editRemarks($event, translatedLangText.LEFT_REMARKS, surveyForm?.get('leftRemarks'))"
                          class="link-button" [matTooltip]="surveyForm?.get('leftRemarks')?.value">
                          {{translatedLangText.LEFT_SIDE}}
                        </span>
                        <button mat-icon-button class="link-button" (click)="resetDialog(highlightedCellsLeft, $event)">
                          <mat-icon>cached</mat-icon>
                        </button>
                      </div>
                      <div class="image-container">
                        <img mat-card-image src="assets/images/idms/tank_frame_type/backup/left_side.png"
                          class="img-fluid">
                        <div class="grid-overlay" (mousedown)="startDrawing(highlightedCellsLeft, $event)"
                          (mousemove)="draw(highlightedCellsLeft, $event)" (mouseup)="stopDrawing()"
                          (mouseleave)="stopDrawing()" (touchstart)="startDrawing(highlightedCellsLeft, $event)"
                          (touchmove)="draw(highlightedCellsLeft, $event)" (touchend)="stopDrawing()"
                          (touchcancel)="stopDrawing()">
                          @for (cell of cells; track cell; let index = $index) {
                          <div [ngClass]="{ highlighted: highlightedCellsLeft[index] }" [attr.data-index]="index"
                            (mousedown)="$event.preventDefault()" (touchstart)="$event.preventDefault()">
                          </div>
                          }
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-4 col-lg-6 col-md-12 col-sm-12 col-xs-12 mb-3 align-center">
                      <div>
                        <span
                          (click)="editRemarks($event, translatedLangText.REAR_REMARKS, surveyForm?.get('rearRemarks'))"
                          class="link-button" [matTooltip]="surveyForm?.get('rearRemarks')?.value">
                          {{translatedLangText.REAR_SIDE}}
                        </span>
                        <button mat-icon-button class="link-button" (click)="resetDialog(highlightedCellsRear, $event)">
                          <mat-icon>cached</mat-icon>
                        </button>
                      </div>
                      <div class="image-container">
                        <img mat-card-image src="assets/images/idms/tank_frame_type/backup/rear_side.png"
                          class="img-fluid">
                        <div class="grid-overlay-square" (mousedown)="startDrawing(highlightedCellsRear, $event)"
                          (mousemove)="draw(highlightedCellsRear, $event)" (mouseup)="stopDrawing()"
                          (mouseleave)="stopDrawing()" (touchstart)="startDrawing(highlightedCellsRear, $event)"
                          (touchmove)="draw(highlightedCellsRear, $event)" (touchend)="stopDrawing()"
                          (touchcancel)="stopDrawing()">
                          @for (cell of cellsSquare; track cell; let index = $index) {
                          <div [ngClass]="{ highlighted: highlightedCellsRear[index] }" [attr.data-index]="index"
                            (mousedown)="$event.preventDefault()" (touchstart)="$event.preventDefault()">
                          </div>
                          }
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-4 col-lg-6 col-md-12 col-sm-12 col-xs-12 mb-3 align-center">
                      <div>
                        <span
                          (click)="editRemarks($event, translatedLangText.RIGHT_REMARKS, surveyForm?.get('rightRemarks'))"
                          class="link-button" [matTooltip]="surveyForm?.get('rightRemarks')?.value">
                          {{translatedLangText.RIGHT_SIDE}}
                        </span>
                        <button mat-icon-button class="link-button" (click)="resetDialog(highlightedCellsRight, $event)">
                          <mat-icon>cached</mat-icon>
                        </button>
                      </div>
                      <div class="image-container">
                        <img mat-card-image src="assets/images/idms/tank_frame_type/backup/right_side.png"
                          class="img-fluid">
                        <div class="grid-overlay" (mousedown)="startDrawing(highlightedCellsRight, $event)"
                          (mousemove)="draw(highlightedCellsRight, $event)" (mouseup)="stopDrawing()"
                          (mouseleave)="stopDrawing()" (touchstart)="startDrawing(highlightedCellsRight, $event)"
                          (touchmove)="draw(highlightedCellsRight, $event)" (touchend)="stopDrawing()"
                          (touchcancel)="stopDrawing()">
                          @for (cell of cells; track cell; let index = $index) {
                          <div [ngClass]="{ highlighted: highlightedCellsRight[index] }" [attr.data-index]="index"
                            (mousedown)="$event.preventDefault()" (touchstart)="$event.preventDefault()">
                          </div>
                          }
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-4 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-0 align-center">
                      <div>
                        <span
                          (click)="editRemarks($event, translatedLangText.TOP_REMARKS, surveyForm?.get('topRemarks'))"
                          class="link-button" [matTooltip]="surveyForm?.get('topRemarks')?.value">
                          {{translatedLangText.TOP_SIDE}}
                        </span>
                        <button mat-icon-button class="link-button" (click)="resetDialog(highlightedCellsRight, $event, true)">
                          <mat-icon>cached</mat-icon>
                        </button>
                        <mat-checkbox class="m-l-5" color="primary" (change)="selectMarkDmg()">
                          {{translatedLangText.MARK_DAMAGE}}
                        </mat-checkbox>
                      </div>
                      <div class="image-container">
                        <img mat-card-image src="assets/images/idms/tank_frame_type/backup/top_side.png"
                          class="img-fluid">
                        <!-- Custom Container for Top Side -->
                        <div class="custom-container">
                          <!-- Outer Layer -->
                          <div class="outer-layer">
                            <!-- Top part of the outer layer -->
                            <div class="outer-top" (mousedown)="startDrawing(highlightedCellsOuterTop, $event)"
                              (mousemove)="draw(highlightedCellsOuterTop, $event)" (mouseup)="stopDrawing()"
                              (mouseleave)="stopDrawing()" (touchstart)="startDrawing(highlightedCellsOuterTop, $event)"
                              (touchmove)="draw(highlightedCellsOuterTop, $event)" (touchend)="stopDrawing()"
                              (touchcancel)="stopDrawing()">
                              @for (cell of cellsOuterTopBottom; track cell; let index = $index) {
                              <div class="grid-cell" [ngClass]="{'damage-overlay': highlightedCellsOuterTop[index]}"
                                [attr.data-index]="index" (mousedown)="$event.preventDefault()"
                                (touchstart)="$event.preventDefault()"></div>
                              }
                            </div>

                            <!-- Middle part with inner grid and side borders -->
                            <div class="outer-middle">
                              <div class="outer-left" (mousedown)="startDrawing(highlightedCellsOuterLeft, $event)"
                                (mousemove)="draw(highlightedCellsOuterLeft, $event)" (mouseup)="stopDrawing()"
                                (mouseleave)="stopDrawing()"
                                (touchstart)="startDrawing(highlightedCellsOuterLeft, $event)"
                                (touchmove)="draw(highlightedCellsOuterLeft, $event)" (touchend)="stopDrawing()"
                                (touchcancel)="stopDrawing()">
                                @for (cell of cellsOuterLeftRight; track cell; let index = $index) {
                                <div class="grid-cell" [ngClass]="{'damage-overlay': highlightedCellsOuterLeft[index]}"
                                  [attr.data-index]="index" (mousedown)="$event.preventDefault()"
                                  (touchstart)="$event.preventDefault()"></div>
                                }
                              </div>
                              <div class="inner-grid">
                                <!-- Top Row with 4 Columns -->
                                <div class="grid-top-row"
                                  (mousedown)="startDrawingWalkway(highlightedCellsWalkwayTop, highlightedCellsWalkwayTopDmg, $event)"
                                  (mousemove)="drawWalkway(highlightedCellsWalkwayTop, highlightedCellsWalkwayTopDmg, $event)"
                                  (mouseup)="stopDrawing()" (mouseleave)="stopDrawing()"
                                  (touchstart)="startDrawingWalkway(highlightedCellsWalkwayTop, highlightedCellsWalkwayTopDmg, $event)"
                                  (touchmove)="drawWalkway(highlightedCellsWalkwayTop, highlightedCellsWalkwayTopDmg, $event)"
                                  (touchend)="stopDrawing()" (touchcancel)="stopDrawing()">
                                  @for (cell of cellsInnerTopBottom; track cell; let index = $index) {
                                  <div class="grid-cell" [ngClass]="{'walkway-highlighted': highlightedCellsWalkwayTop[index],
                                        'damage-overlay': highlightedCellsWalkwayTopDmg[index]
                                      }" [attr.data-index]="index" (mousedown)="$event.preventDefault()"
                                    (touchstart)="$event.preventDefault()"></div>
                                  }
                                </div>

                                <!-- Middle Row (to be defined later) -->
                                <div class="grid-middle-row"
                                  (mousedown)="startDrawingWalkway(highlightedCellsWalkwayMiddle, highlightedCellsWalkwayMiddleDmg, $event)"
                                  (mousemove)="drawWalkway(highlightedCellsWalkwayMiddle, highlightedCellsWalkwayMiddleDmg, $event)"
                                  (mouseup)="stopDrawing()" (mouseleave)="stopDrawing()"
                                  (touchstart)="startDrawingWalkway(highlightedCellsWalkwayMiddle, highlightedCellsWalkwayMiddleDmg, $event)"
                                  (touchmove)="drawWalkway(highlightedCellsWalkwayMiddle, highlightedCellsWalkwayMiddleDmg, $event)"
                                  (touchend)="stopDrawing()" (touchcancel)="stopDrawing()">
                                  @for (cell of cellsInnerMiddle; track cell; let index = $index) {
                                  <div class="grid-cell" [ngClass]="{'walkway-highlighted': highlightedCellsWalkwayMiddle[index],
                                      'damage-overlay': highlightedCellsWalkwayMiddleDmg[index],
                                      'disabled-cell': isDisabled(index)}" [attr.data-index]="index"
                                    (mousedown)="!isDisabled(index) && $event.preventDefault()"
                                    (touchstart)="!isDisabled(index) && $event.preventDefault()"></div>
                                  }
                                </div>

                                <!-- Bottom Row with 4 Columns -->
                                <div class="grid-bottom-row"
                                  (mousedown)="startDrawingWalkway(highlightedCellsWalkwayBottom, highlightedCellsWalkwayBottomDmg, $event)"
                                  (mousemove)="drawWalkway(highlightedCellsWalkwayBottom, highlightedCellsWalkwayBottomDmg, $event)"
                                  (mouseup)="stopDrawing()" (mouseleave)="stopDrawing()"
                                  (touchstart)="startDrawingWalkway(highlightedCellsWalkwayBottom, highlightedCellsWalkwayBottomDmg, $event)"
                                  (touchmove)="drawWalkway(highlightedCellsWalkwayBottom, highlightedCellsWalkwayBottomDmg, $event)"
                                  (touchend)="stopDrawing()" (touchcancel)="stopDrawing()">
                                  @for (cell of cellsInnerTopBottom; track cell; let index = $index) {
                                  <div class="grid-cell" [ngClass]="{'walkway-highlighted': highlightedCellsWalkwayBottom[index],
                                      'damage-overlay': highlightedCellsWalkwayBottomDmg[index]}"
                                    [attr.data-index]="index" (mousedown)="$event.preventDefault()"
                                    (touchstart)="$event.preventDefault()"></div>
                                  }
                                </div>
                              </div>
                              <div class="outer-right" (mousedown)="startDrawing(highlightedCellsOuterRight, $event)"
                                (mousemove)="draw(highlightedCellsOuterRight, $event)" (mouseup)="stopDrawing()"
                                (mouseleave)="stopDrawing()"
                                (touchstart)="startDrawing(highlightedCellsOuterRight, $event)"
                                (touchmove)="draw(highlightedCellsOuterRight, $event)" (touchend)="stopDrawing()"
                                (touchcancel)="stopDrawing()">
                                @for (cell of cellsOuterLeftRight; track cell; let index = $index) {
                                <div class="grid-cell" [ngClass]="{'damage-overlay': highlightedCellsOuterRight[index]}"
                                  [attr.data-index]="index" (mousedown)="$event.preventDefault()"
                                  (touchstart)="$event.preventDefault()"></div>
                                }
                              </div>
                            </div>
                            <!-- Bottom part of the outer layer -->
                            <div class="outer-bottom" (mousedown)="startDrawing(highlightedCellsOuterBottom, $event)"
                              (mousemove)="draw(highlightedCellsOuterBottom, $event)" (mouseup)="stopDrawing()"
                              (mouseleave)="stopDrawing()"
                              (touchstart)="startDrawing(highlightedCellsOuterBottom, $event)"
                              (touchmove)="draw(highlightedCellsOuterBottom, $event)" (touchend)="stopDrawing()"
                              (touchcancel)="stopDrawing()">
                              @for (cell of cellsOuterTopBottom; track cell; let index = $index) {
                              <div class="grid-cell" [ngClass]="{'damage-overlay': highlightedCellsOuterBottom[index]}"
                                [attr.data-index]="index" (mousedown)="$event.preventDefault()"
                                (touchstart)="$event.preventDefault()"></div>
                              }
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-4 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-0 align-center">
                      <div>
                        <span
                          (click)="editRemarks($event, translatedLangText.FRONT_REMARKS, surveyForm?.get('frontRemarks'))"
                          class="link-button" [matTooltip]="surveyForm?.get('frontRemarks')?.value">
                          {{translatedLangText.FRONT_SIDE}}
                        </span>
                        <button mat-icon-button class="link-button" (click)="resetDialog(highlightedCellsFront, $event)">
                          <mat-icon>cached</mat-icon>
                        </button>
                      </div>
                      <div class="image-container">
                        <img mat-card-image src="assets/images/idms/tank_frame_type/backup/front_side.png"
                          class="img-fluid">
                        <div class="grid-overlay-square" (mousedown)="startDrawing(highlightedCellsFront, $event)"
                          (mousemove)="draw(highlightedCellsFront, $event)" (mouseup)="stopDrawing()"
                          (mouseleave)="stopDrawing()" (touchstart)="startDrawing(highlightedCellsFront, $event)"
                          (touchmove)="draw(highlightedCellsFront, $event)" (touchend)="stopDrawing()"
                          (touchcancel)="stopDrawing()">
                          @for (cell of cellsSquare; track cell; let index = $index) {
                          <div [ngClass]="{ highlighted: highlightedCellsFront[index] }" [attr.data-index]="index"
                            (mousedown)="$event.preventDefault()" (touchstart)="$event.preventDefault()">
                          </div>
                          }
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-4 col-lg-6 col-md-12 col-sm-12 col-xs-12 m-b-0 align-center">
                      <div>
                        <span
                          (click)="editRemarks($event, translatedLangText.BOTTOM_REMARKS, surveyForm?.get('bottomRemarks'))"
                          class="link-button" [matTooltip]="surveyForm?.get('bottomRemarks')?.value">
                          {{translatedLangText.BOTTOM_SIDE}}
                        </span>
                        <button mat-icon-button class="link-button" (click)="resetDialog(highlightedCellsBottom, $event)">
                          <mat-icon>cached</mat-icon>
                        </button>
                      </div>
                      <div class="image-container">
                        <img mat-card-image src="assets/images/idms/tank_frame_type/backup/bottom_side.png"
                          class="img-fluid">
                        <div class="grid-overlay" (mousedown)="startDrawing(highlightedCellsBottom, $event)"
                          (mousemove)="draw(highlightedCellsBottom, $event)" (mouseup)="stopDrawing()"
                          (mouseleave)="stopDrawing()" (touchstart)="startDrawing(highlightedCellsBottom, $event)"
                          (touchmove)="draw(highlightedCellsBottom, $event)" (touchend)="stopDrawing()"
                          (touchcancel)="stopDrawing()">
                          @for (cell of cells; track cell; let index = $index) {
                          <div [ngClass]="{ highlighted: highlightedCellsBottom[index] }" [attr.data-index]="index"
                            (mousedown)="$event.preventDefault()" (touchstart)="$event.preventDefault()">
                          </div>
                          }
                        </div>
                      </div>
                    </div>
                  </div>
                  }
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="header">
                  <h2>
                    {{translatedLangText.TANK_PHOTOS}}
                  </h2>
                </div>
                <div class="body">
                  @if (igDS.loading$ | async) {
                  <div class="tbl-spinner">
                    <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
                    </mat-progress-spinner>
                  </div>
                  }
                  @if (!(igDS.loading$ | async)) {
                  <div class="row">
                    <div class="col-xl-1 col-lg-1 col-md-12 col-sm-12 col-xs-12 mb-1">
                      <button mat-mini-fab class="bg-purple msr-2" (click)="fileInput.click()">
                        <i class="material-icons">attach_file</i>
                      </button>
                      <input type="file" #fileInput class="default" multiple (change)="onFileSelected($event)"
                        style="display: none;">
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-2">
                      <div class="image-previews">
                        @for (imgPrev of imagePreviews; track imgPrev) {
                        <div class="image-preview">
                          <img [src]="imgPrev" alt="Image Preview" class="preview-img">
                        </div>
                        }
                      </div>
                    </div>
                  </div>
                  }
                </div>
              </div>
              <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="header">
                  <h2>
                    {{translatedLangText.COMPARTMENT_TYPE}}
                  </h2>
                </div>
                <div class="body">
                  @if (igDS.loading$ | async) {
                  <div class="tbl-spinner">
                    <mat-progress-spinner color="primary" [diameter]="40" mode="indeterminate">
                    </mat-progress-spinner>
                  </div>
                  }
                  @if (!(igDS.loading$ | async)) {
                  <mat-horizontal-stepper [linear]="isLinear" #stepper>
                    <mat-step [stepControl]="getBottomFormGroup()">
                      <form [formGroup]="getBottomFormGroup()">
                        <ng-template matStepLabel>{{translatedLangText.BOTTOM}}</ng-template>
                        <div class="row">
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-label>{{translatedLangText.BOTTOM_DIS_COMP}}:</mat-label>
                          </div>
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-radio-group formControlName="btm_dis_comp_cv" required>
                              @for (codeValue of disCompCvList; track codeValue) {
                              <mat-radio-button [value]="codeValue.code_val" color="primary" ngClass="m-r-25">
                                {{codeValue.description}}
                              </mat-radio-button>
                              }
                            </mat-radio-group>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-label>{{translatedLangText.FOOT_VALVE}}:</mat-label>
                          </div>
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-radio-group formControlName="foot_valve_cv" required>
                              @for (codeValue of footValveCvList; track codeValue) {
                              <mat-radio-button [value]="codeValue.code_val" color="primary" ngClass="m-r-25">
                                {{codeValue.description}}
                              </mat-radio-button>
                              }
                            </mat-radio-group>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-label>{{translatedLangText.BRAND}}:</mat-label>
                          </div>
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-radio-group formControlName="btm_valve_brand_cv" required>
                              @for (codeValue of valveBrandCvList; track codeValue) {
                              <mat-radio-button [value]="codeValue.code_val" color="primary" ngClass="m-r-25">
                                {{codeValue.description}}
                              </mat-radio-button>
                              }
                            </mat-radio-group>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.BOTTOM_DIS_VALVE}}</mat-label>
                              <mat-select formControlName="btm_dis_valve_cv" required>
                                @for (codeValue of disValveCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getBottomFormGroup().get('btm_dis_valve_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.BOTTOM_DIS_VALVE}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.SPECIFICATION}}</mat-label>
                              <mat-select formControlName="btm_dis_valve_spec_cv" required>
                                @for (codeValue of disValveSpecCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getBottomFormGroup().get('btm_dis_valve_spec_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.SPECIFICATION}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.THERMOMETER}}</mat-label>
                              <input matInput formControlName="thermometer" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>&deg;C</h6>
                              @if (getBottomFormGroup().get('thermometer')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.THERMOMETER}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.SPECIFICATION}}</mat-label>
                              <mat-select formControlName="thermometer_cv" required>
                                @for (codeValue of thermometerCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getBottomFormGroup().get('thermometer_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.SPECIFICATION}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-checkbox formControlName="ladder" class="m-r-5" color="primary">
                              {{translatedLangText.LADDER}}
                            </mat-checkbox>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-checkbox formControlName="data_csc_transportplate" class="m-r-5" color="primary">
                              {{translatedLangText.DATA_SCS_TRANSPORT_PLATE}}
                            </mat-checkbox>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 align-right">
                            <button mat-raised-button matStepperNext type="button" color="primary" class="msr-2"
                              [disabled]="!getBottomFormGroup()!.valid">
                              <mat-icon>chevron_right</mat-icon>
                            </button>
                          </div>
                        </div>
                      </form>
                    </mat-step>
                    <mat-step [stepControl]="getTopFormGroup()">
                      <form [formGroup]="getTopFormGroup()">
                        <ng-template matStepLabel>{{translatedLangText.TOP}}</ng-template>
                        <div class="row">
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-label>{{translatedLangText.TOP_DIS_COMP}}:</mat-label>
                            <mat-radio-group formControlName="top_dis_comp_cv" required>
                              @for (codeValue of disCompCvList; track codeValue) {
                              <mat-radio-button [value]="codeValue.code_val" color="primary" ngClass="m-r-25">
                                {{codeValue.description}}
                              </mat-radio-button>
                              }
                            </mat-radio-group>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.TOP_DIS_VALVE}}</mat-label>
                              <mat-select formControlName="top_dis_valve_cv" required>
                                @for (codeValue of disValveCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getTopFormGroup().get('top_dis_valve_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.TOP_DIS_TOP_DIS_VALVECOMP}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.SPECIFICATION}}</mat-label>
                              <mat-select formControlName="top_dis_valve_spec_cv" required>
                                @for (codeValue of disValveSpecCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getTopFormGroup().get('top_dis_valve_spec_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.SPECIFICATION}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-label>{{translatedLangText.BRAND}}:</mat-label>
                          </div>
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-radio-group formControlName="top_valve_brand_cv" required>
                              @for (codeValue of valveBrandCvList; track codeValue) {
                              <mat-radio-button [value]="codeValue.code_val" color="primary" ngClass="m-r-25">
                                {{codeValue.description}}
                              </mat-radio-button>
                              }
                            </mat-radio-group>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.AIRLINE_VALVE}}</mat-label>
                              <mat-select formControlName="airline_valve_cv" required>
                                @for (codeValue of airlineCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getTopFormGroup().get('airline_valve_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.AIRLINE_VALVE}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.PIECES}}</mat-label>
                              <input matInput formControlName="airline_valve_pcs" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>pcs</h6>
                              @if (getTopFormGroup().get('airline_valve_pcs')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.PIECES}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.DIAMITER}}</mat-label>
                              <input matInput formControlName="airline_valve_dim" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>inch</h6>
                              @if (getTopFormGroup().get('airline_valve_dim')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.DIAMITER}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.AIRLINE_VALVE_CONNECTIONS}}</mat-label>
                              <mat-select formControlName="airline_valve_conn_cv" required>
                                @for (codeValue of airlineConnCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getTopFormGroup().get('airline_valve_conn_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.AIRLINE_VALVE_CONNECTIONS}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.SPECIFICATION}}</mat-label>
                              <mat-select formControlName="airline_valve_conn_spec_cv" required>
                                @for (codeValue of manlidCoverCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getTopFormGroup().get('airline_valve_conn_spec_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.SPECIFICATION}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-6">
                            <button mat-raised-button matStepperPrevious type="button" color="" class="msr-2">
                              <mat-icon>chevron_left</mat-icon>
                            </button>
                          </div>
                          <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 align-right">
                            <button mat-raised-button matStepperNext type="button" color="primary" class="msr-2"
                              [disabled]="!getTopFormGroup()!.valid">
                              <mat-icon>chevron_right</mat-icon>
                            </button>
                          </div>
                        </div>
                      </form>
                    </mat-step>
                    <mat-step [stepControl]="getManlidFormGroup()">
                      <form [formGroup]="getManlidFormGroup()">
                        <ng-template matStepLabel>{{translatedLangText.MANLID}}</ng-template>
                        <div class="row">
                          <!-- <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.MANLID_COMPARTMENT}}</mat-label>
                              <mat-select formControlName="manlid_comp_cv">
                                @for (codeValue of disCompCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                            </mat-form-field>
                          </div> -->
                          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 m-b-0">
                            <mat-label>{{translatedLangText.MANLID_COMPARTMENT}}:</mat-label>
                            <mat-radio-group formControlName="manlid_comp_cv" required>
                              @for (codeValue of disCompCvList; track codeValue) {
                              <mat-radio-button [value]="codeValue.code_val" color="primary" ngClass="m-r-25">
                                {{codeValue.description}}
                              </mat-radio-button>
                              }
                            </mat-radio-group>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.MANLID_COVER}}</mat-label>
                              <mat-select formControlName="manlid_cover_cv" required>
                                @for (codeValue of manlidCoverCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getManlidFormGroup().get('manlid_cover_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.MANLID_COVER}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.PIECES}}</mat-label>
                              <input matInput formControlName="manlid_cover_pcs" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>pcs</h6>
                              @if (getManlidFormGroup().get('manlid_cover_pcs')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.PIECES}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.VOLUME}}</mat-label>
                              <input matInput formControlName="manlid_cover_pts" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>pts</h6>
                              @if (getManlidFormGroup().get('manlid_cover_pts')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.VOLUME}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-6 m-b-0 p-r-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.PV}}</mat-label>
                              <mat-select formControlName="pv_type_cv" required>
                                @for (codeValue of pvTypeCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getManlidFormGroup().get('pv_type_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.PV}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-6 m-b-0 p-l-1">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.PIECES}}</mat-label>
                              <input matInput formControlName="pv_type_pcs" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>pcs</h6>
                              @if (getManlidFormGroup().get('pv_type_pcs')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.PIECES}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-6 m-b-0 p-r-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.SPECIFICATION}}</mat-label>
                              <mat-select formControlName="pv_spec_cv" required>
                                @for (codeValue of pvSpecCvList; track codeValue) {
                                <mat-option [value]="codeValue.code_val">{{codeValue.description}}</mat-option>
                                }
                              </mat-select>
                              @if (getManlidFormGroup().get('pv_spec_cv')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.SPECIFICATION}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                          <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 col-xs-6 m-b-0 p-l-1">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.PIECES}}</mat-label>
                              <input matInput formControlName="pv_spec_pcs" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>pcs</h6>
                              @if (getManlidFormGroup().get('pv_spec_pcs')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.PIECES}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-checkbox formControlName="safety_handrail" class="m-r-5" color="primary">
                              {{translatedLangText.SAFETY_HANDRAIL}}
                            </mat-checkbox>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.BUFFER_PLATE}}</mat-label>
                              <input matInput formControlName="buffer_plate" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>pcs</h6>
                              @if (getManlidFormGroup().get('buffer_plate')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.BUFFER_PLATE}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-form-field class="example-full-width">
                              <mat-label>{{translatedLangText.RESIDUE}}</mat-label>
                              <input matInput formControlName="residue" type="number" required>
                              <h6 class="color-icon p-t-15 p-r-5" matSuffix>KG</h6>
                              @if (getManlidFormGroup().get('residue')?.hasError('required')) {
                              <mat-error>
                                {{translatedLangText.RESIDUE}} {{translatedLangText.SO_REQUIRED}}
                              </mat-error>
                              }
                            </mat-form-field>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12 m-b-0">
                            <mat-checkbox formControlName="dipstick" class="m-r-5" color="primary">
                              {{translatedLangText.DIPSTICK}}
                            </mat-checkbox>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-6">
                            <button mat-raised-button matStepperPrevious type="button" color="" class="msr-2">
                              <mat-icon>chevron_left</mat-icon>
                            </button>
                          </div>
                          <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 align-right">
                            <button mat-raised-button matStepperNext color="primary" class="msr-2"
                              [disabled]="!getManlidFormGroup()!.valid" (click)="onFormSubmit()">
                              <mat-icon>save</mat-icon>
                              {{translatedLangText.SAVE_AND_SUBMIT}}
                            </button>
                          </div>
                        </div>
                      </form>
                    </mat-step>
                  </mat-horizontal-stepper>
                  }
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>